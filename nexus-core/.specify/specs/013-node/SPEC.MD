# Node (N≈ìud)

## D√©finition

Un **Node** est une discussion structur√©e et durable.  
Il est con√ßu pour √©voluer dans le temps et devenir, si la communaut√© le souhaite, une **r√©f√©rence collective**.

Un Node n‚Äôest ni un chat, ni un wiki strict, ni une todo-list.  
Il peut emprunter √† ces formats sans jamais perdre son historique ni sa libert√©.

> Nexus ne gouverne pas les Nodes.  
> Chaque instance d√©cide de leur usage, de leur visibilit√© et de leur cycle de vie.

---

## Philosophie

- Le **temps** est une fonctionnalit√©
- La **qualit√©** prime sur la vitesse
- La **m√©moire** est aussi importante que la discussion
- Rien n‚Äôest obligatoire, tout est **opt-in**

Un Node peut rester une simple discussion.  
Il peut aussi m√ªrir, se structurer et devenir un point de connaissance.

---

## √âtats possibles d‚Äôun Node

Les √©tats sont indicatifs.  
Ils n‚Äôimposent aucun workflow.

- **Actif**  
  Discussion ouverte, contributions libres.

- **Lent**  
  Contributions r√©fl√©chies, pas d‚Äôurgence, pas de pression temporelle.

- **Stabilis√©**  
  Le contenu est consid√©r√© comme fiable √† un instant donn√©.

- **Archiv√©**  
  Lecture seule. Le Node reste visible, r√©f√©renc√© et consultable.

---

## Composants d‚Äôun Node

Un Node peut contenir :

- un **r√©sum√©** (optionnel)
- des **messages**
- certains messages peuvent devenir des **Anchors**
- une **vue synth√®se** (optionnelle)

Aucun composant n‚Äôest obligatoire.

---

## R√©sum√©

Le r√©sum√© :
- est √©ditable
- est versionn√©
- refl√®te l‚Äô√©tat actuel du Node
- peut √™tre maintenu par la communaut√© ou un gardien

Il permet de comprendre l‚Äôessentiel sans relire l‚Äôint√©gralit√© du Node.

---

## Anchors (Ancrages)

Un **Anchor** est un message identifi√© comme structurant.

Un Anchor :
- poss√®de une URL stable
- peut √™tre r√©f√©renc√© par la recherche Nexus
- peut √™tre li√© depuis d‚Äôautres Nodes
- reste ancr√© dans son contexte (pas extrait du fil)

Les Anchors transforment un Node en espace navigable.

---

## Vue synth√®se

La vue synth√®se est une **lecture alternative** du Node.

Elle permet :
- de visualiser les sections cl√©s
- d‚Äôacc√©der directement aux Anchors
- de comprendre rapidement l‚Äô√©tat d‚Äôavancement

La vue synth√®se ne duplique pas le contenu.

---

## Visibilit√© et f√©d√©ration

Chaque Node peut √™tre :

- priv√©
- visible uniquement sur l‚Äôinstance
- f√©d√©r√©
- indexable par le moteur Nexus
- indexable par des moteurs externes (si l‚Äôadmin le souhaite)

M√™me un Node non visible peut contribuer au r√©seau (relais, r√©silience).

---

## Mod√©ration et √©dition

- La mod√©ration reste **locale √† l‚Äôinstance**
- L‚Äô√©dition communautaire est possible via :
  - propositions
  - validation humaine
  - historique des versions

L‚ÄôIA peut assister (signalement, r√©sum√©), mais **ne d√©cide jamais**.

---

## Ce qu‚Äôun Node n‚Äôest pas

- pas un flux
- pas un feed algorithmique
- pas un syst√®me de r√©putation globale
- pas un outil de performance sociale

Un Node est un **lieu**, pas un score.

---

## Intention

Les Nodes existent pour :
- pr√©server la connaissance
- favoriser les discussions longues
- permettre la d√©couverte sans centralisation
- redonner de la profondeur au Web

Un Node peut vivre longtemps.  
Il n‚Äôa aucune obligation de dispara√Ætre.


exemple id√©e de ce node. (A am√©liorer agr√©menter.)

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Nexus ‚Äì Thread lent</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f6f6f6;
  margin: 0;
  padding: 2rem;
  color: #222;
}

.thread {
  max-width: 900px;
  margin: auto;
  background: #fff;
  padding: 1.5rem;
  border-radius: 6px;
  box-shadow: 0 0 0 1px #ddd;
}

.thread h1 {
  margin-top: 0;
}

.notice {
  background: #eef4ff;
  border-left: 4px solid #4a6ee0;
  padding: 0.75rem;
  margin-bottom: 1rem;
  font-size: 0.9rem;
}

.summary {
  background: #fafafa;
  border: 1px solid #ddd;
  padding: 1rem;
  margin-bottom: 1rem;
}

.summary small {
  color: #666;
}

.toolbar {
  margin-bottom: 1rem;
}

.toolbar button {
  margin-right: 0.5rem;
}

.anchors {
  background: #f0f0f0;
  padding: 0.75rem;
  margin-bottom: 1rem;
}

.anchors a {
  display: block;
  font-size: 0.9rem;
  color: #333;
  text-decoration: none;
}

.post {
  border-top: 1px solid #eee;
  padding: 1rem 0;
}

.post.anchor {
  background: #fffbe6;
  border-left: 4px solid #e6c200;
  padding-left: 0.75rem;
}

.meta {
  font-size: 0.8rem;
  color: #666;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<div class="thread">

  <h1>P2P derri√®re NAT : retours d‚Äôexp√©rience</h1>

  <div class="notice">
    Ce sujet est pens√© pour durer.  
    Les r√©ponses rapides n‚Äôont aucun int√©r√™t ici.
  </div>

  <div class="summary">
    <strong>R√©sum√©</strong><br />
    Nexus permet un P2P fonctionnel derri√®re NAT gr√¢ce √† WebRTC,
    un relais de courtoisie et une signalisation l√©g√®re.
    <br /><small>Derni√®re mise √† jour : v3 ‚Äì 12 f√©vrier 2026</small>
  </div>

  <div class="toolbar">
    <button onclick="showDiscussion()">Vue discussion</button>
    <button onclick="showSynthesis()">Vue synth√®se</button>
  </div>

  <div class="anchors">
    <strong>Sommaire</strong>
    <a href="#a1">Probl√®me initial</a>
    <a href="#a2">Solution WebRTC + TURN light</a>
    <a href="#a3">Tests 4G / VPS de courtoisie</a>
  </div>

  <div id="discussion">

    <div class="post anchor" id="a1">
      <div class="meta">Alice ‚Äî 3 janvier</div>
      <strong>[Probl√®me]</strong><br />
      Les connexions P2P √©chouent souvent derri√®re NAT strict ou CGNAT.
    </div>

    <div class="post anchor" id="a2">
      <div class="meta">Bob ‚Äî 6 janvier</div>
      <strong>[Solution]</strong><br />
      Utilisation de WebRTC avec TURN int√©gr√© √† l‚ÄôAPI Nexus.
    </div>

    <div class="post anchor" id="a3">
      <div class="meta">Charlie ‚Äî 10 janvier</div>
      <strong>[Retour terrain]</strong><br />
      Tests valid√©s en LAN, 4G et distant. Relais uniquement en fallback.
    </div>

    <div class="post">
      <div class="meta">Dave ‚Äî 15 janvier</div>
      Discussion compl√©mentaire et nuances‚Ä¶
    </div>

  </div>

  <div id="synthesis" class="hidden">
    <h3>Synth√®se</h3>
    <ul>
      <li>‚úî Probl√®me NAT identifi√©</li>
      <li>‚úî Solution WebRTC valid√©e</li>
      <li>‚úî Tests terrain concluants</li>
    </ul>
    <p>
      Ce sujet constitue une r√©f√©rence pour les d√©ploiements Nexus
      en environnement contraint.
    </p>
  </div>

</div>

<script>
function showDiscussion() {
  document.getElementById("discussion").classList.remove("hidden");
  document.getElementById("synthesis").classList.add("hidden");
}

function showSynthesis() {
  document.getElementById("discussion").classList.add("hidden");
  document.getElementById("synthesis").classList.remove("hidden");
}
</script>

</body>
</html>



NODE_SCHEMA.md (tech + data, minimal)

UX adapt√©e √† ton forum actuel (ce que tu ajoutes, pas ce que tu casses)

Tu peux copier-coller tel quel.

üìÑ NODE_SCHEMA.md
# Node ‚Äì Schema minimal

Ce document d√©crit la structure minimale d‚Äôun Node dans Nexus.
Le schema est volontairement simple et extensible.

---

## Identit√©

Un Node est identifi√© par :

- `node_id` (UUID / hash)
- `instance_id` (instance propri√©taire)
- `slug` (lisible, optionnel)
- `created_at`
- `updated_at`

---

## M√©tadonn√©es

```json
{
  "title": "P2P derri√®re NAT",
  "state": "lent",
  "visibility": "federated",
  "tags": ["p2p", "network", "webrtc"],
  "language": "fr"
}
√âtats (state)

active

lent

stabilized

archived

Visibilit√© (visibility)

private

local

federated

indexable

Contenu
Messages (posts)

Chaque message :

appartient √† un Node

conserve son ordre chronologique

n‚Äôest jamais r√©√©crit

{
  "post_id": "uuid",
  "author_id": "uuid",
  "content": "texte",
  "created_at": "...",
  "is_anchor": false
}
Anchors (Ancrages)

Un Anchor est un post marqu√© comme structurant.

{
  "anchor_id": "a7",
  "post_id": "uuid",
  "label": "Solution WebRTC",
  "indexable": true
}

Caract√©ristiques :

URL stable : /node/{id}#a7

indexable ind√©pendamment

toujours li√© √† son contexte

R√©sum√©

Le r√©sum√© est un objet s√©par√© du fil.

{
  "summary": "Synth√®se actuelle du Node...",
  "version": 3,
  "updated_at": "...",
  "editor_id": "uuid"
}

versionn√©

√©ditable

optionnel

Vue synth√®se

La vue synth√®se est une projection du Node :

r√©sum√©

anchors

√©tat

Aucune donn√©e dupliqu√©e.

Historique & √©dition

aucune suppression destructive

toute modification cr√©e une version

propositions possibles avant validation

F√©d√©ration & recherche

Un Node peut exposer :

ses m√©tadonn√©es

son r√©sum√©

ses anchors

Le contenu brut reste local sauf choix explicite.

D√©pendances

Un Node ne d√©pend :

ni d‚Äôun service central

ni d‚Äôun moteur externe

Il reste valide hors ligne.


---

# üéõÔ∏è UX ‚Äì Adaptation √† **pokled.ddns.net**

Objectif :  
üëâ **transformer certaines cat√©gories du forum en Nodes**  
üëâ sans casser l‚Äôexistant  
üëâ sans choquer les utilisateurs actuels

---

## 1Ô∏è‚É£ O√π apparaissent les Nodes ?
### Nouvelle cat√©gorie (ou sous-cat√©gorie)
**üìÇ Nodes / N≈ìuds**

Visuellement :
- m√™me layout que les threads
- badge discret `NODE`
- ic√¥ne üß† ou üîó

üëâ Rien de nouveau √† apprendre.

---

## 2Ô∏è‚É£ En-t√™te d‚Äôun Node (cl√© UX)

En haut du thread :


üß† Node ‚Äî √âtat : Lent
Ce Node est pens√© pour durer. Prenez votre temps.


Puis :


R√©sum√©
[ contenu ]
Derni√®re mise √† jour : v3
[ proposer une modification ]


üëâ **Le r√©sum√© est LA diff√©rence visible.**

---

## 3Ô∏è‚É£ Anchors dans le fil
Un message marqu√© Anchor :
- fond l√©g√®rement diff√©rent
- bord gauche color√©
- ic√¥ne üîó


üîó Anchor ‚Äî Solution WebRTC


- clic ‚Üí lien direct
- visible dans le sommaire

---

## 4Ô∏è‚É£ Sommaire automatique (colonne ou bloc)
En haut ou √† droite :


Sommaire du Node
‚Ä¢ Probl√®me initial
‚Ä¢ Solution WebRTC
‚Ä¢ Tests terrain


üëâ G√©n√©r√© √† partir des Anchors  
üëâ Tr√®s fort pour la lisibilit√©

---

## 5Ô∏è‚É£ Vue Synth√®se (toggle simple)
Bouton discret :


[ Discussion ] [ Synth√®se ]


Synth√®se affiche :
- r√©sum√©
- √©tat
- anchors
- statut (stabilis√© / en cours)

üëâ Pas une autre page, **une autre lecture**.

---

## 6Ô∏è‚É£ Lenteur induite (sans forcer)
Dans un Node :
- pas de bump agressif
- pas de compteur de messages
- dates visibles
- message avant r√©ponse :

> ‚ÄúCe Node privil√©gie les r√©ponses r√©fl√©chies.‚Äù

---

## 7Ô∏è‚É£ Recherche Nexus
Dans les r√©sultats :
- Node appara√Æt comme entit√©
- Anchor appara√Æt comme r√©sultat pr√©cis
- score bas√© sur :
  - stabilit√©
  - clart√©
  - r√©f√©rences crois√©es
  - pas sur l‚Äôactivit√©

---

## 8Ô∏è‚É£ Ce que TU N‚ÄôAS PAS √† faire
‚ùå Repenser tout le forum  
‚ùå Ajouter des r√¥les lourds  
‚ùå Cr√©er un workflow complexe  
‚ùå Forcer l‚Äôusage des Nodes  

Les Nodes doivent **s‚Äôimposer par leur utilit√©**, pas par r√®gle.

---

## üß≠ R√©sum√© clair
- Forum = base
- Node = **forum augment√© par la m√©moire**
- Anchors = navigation
- R√©sum√© = transmission
- Synth√®se = lisibilit√©

---


Bien evidement respecter le format svelte et les techno core de Nexus. Pas d'ajout de nouveau language qui obligerait d'implementer de nouveaux outils techno serveur etc. 