# NEXUS â€” Carnet d'idÃ©es
### Les bonnes idÃ©es notÃ©es avant d'Ãªtre oubliÃ©es

---

> Ce fichier n'est PAS une spec.
> C'est un carnet de vision.
> Les idÃ©es ici seront transformÃ©es en specs quand leur phase arrivera.

---

## ğŸ’¬ SPEC 005 â€” Chat temps rÃ©el

### IdÃ©es retenues
- Salons de chat par communautÃ© et par catÃ©gorie
- Messages en temps rÃ©el via Socket.io
- Historique persistant en PostgreSQL
- ProfileCard `variant: 'chat'` â€” mini avatar inline Ã  gauche du message
- Indicateur "en train d'Ã©crire..."
- RÃ©actions emoji sur les messages
- Mentions @username avec notification

### Ã€ dÃ©cider
- Messages Ã©phÃ©mÃ¨res ou permanents ?
- ModÃ©ration des messages (suppression, signalement) ?
- Threads dans les messages (reply) ?

---

## ğŸ¤ SPEC 006 â€” Salons vocaux

### IdÃ©es retenues

#### Affichage adaptatif selon le nombre de participants
```
1 Ã  8 personnes   â†’ TABLE RONDE
                    Avatars disposÃ©s en cercle
                    Chaises vides visibles (invitation Ã  rejoindre)
                    Tout le monde est Ã©gal visuellement

9 Ã  20 personnes  â†’ GRILLE
                    Avatars en grille rÃ©guliÃ¨re
                    Indicateur micro actif/coupÃ©
                    Statut "parle en ce moment" mis en avant

21+ personnes     â†’ SCÃˆNE
                    Speakers en avant (grands avatars)
                    Audience derriÃ¨re (petits avatars)
                    Style confÃ©rence / concert
                    Main levÃ©e pour demander la parole
```

#### Vue "Table ronde" (1-8 personnes)
```
        ğŸª‘          ğŸª‘
    ğŸª‘      ğŸ‘¤      ğŸª‘
        ğŸ‘¤      ğŸ‘¤
    ğŸª‘              ğŸª‘
        ğŸª‘          ğŸª‘

    3/8 participants
```
- Chaises vides = places disponibles (cliquer pour rejoindre)
- Chaises occupÃ©es = avatar du participant
- Animation subtile quand quelqu'un parle
- SVG animÃ©, pas une image statique

#### Technique
- WebRTC pour l'audio P2P
- ProfileCard `variant: 'vocal'` dÃ©jÃ  prÃ©vu
- Partage d'Ã©cran en Phase 3

### Philosophie
La forme du salon change selon la dynamique humaine.
Petit groupe = table ronde, tout le monde Ã©gal.
Grand groupe = scÃ¨ne, speakers et audience.
C'est la vraie vie, reproduite numÃ©riquement.

---

## âœï¸ SPEC 007 â€” Ã‰diteur de contenu (Tiptap)

### Vision
WYSIWYG puissant et intuitif. L'utilisateur n'Ã©crit pas de code.
Il voit directement le rÃ©sultat. Comme Notion, mais pour un forum.

### Stack retenue
- **Tiptap** (basÃ© sur ProseMirror) â€” open source, extensible
- Stockage en base : **JSON ProseMirror** (pas HTML brut)
- Rendu : HTML sanitisÃ© cÃ´tÃ© serveur

### FonctionnalitÃ©s prÃ©vues

#### Formatage texte
- Gras, Italique, SoulignÃ©, BarrÃ©
- Titres H1 H2 H3
- Couleur de texte

#### MÃ©dias
- Images par URL ou upload
- GIFs animÃ©s â€” picker Tenor/Giphy intÃ©grÃ©
- Lecteur vidÃ©o embarquÃ© automatique
  (coller un lien YouTube/Twitch/Vimeo â†’ embed automatique)

#### Mise en page
- Listes Ã  puces et numÃ©rotÃ©es
- Tableaux
- Citations (blockquote)
- SÃ©parateur horizontal
- Spoiler (contenu masquÃ©, rÃ©vÃ©lÃ© au clic)

#### Code
- Code inline
- Bloc de code avec coloration syntaxique (50+ langages)

#### InteractivitÃ©
- Emojis â€” picker complet (emoji-mart)
- Mentions @username avec suggestion
- Sondage intÃ©grÃ© dans un post

### Extensions Tiptap nÃ©cessaires
```
@tiptap/extension-image
@tiptap/extension-color
@tiptap/extension-table
@tiptap/extension-mention
tiptap-extension-video
emoji-mart
giphy-js
lowlight (coloration syntaxique)
```

### Stockage
```json
{
  "type": "doc",
  "content": [
    { "type": "paragraph", "content": [...] }
  ]
}
```
JSON en base â†’ rendu HTML sÃ©curisÃ© Ã  l'affichage.
Jamais de HTML brut stockÃ© directement.

---

## ğŸ¨ Autres idÃ©es en vrac

### Personnalisation du profil
- ThÃ¨me de couleur personnalisÃ© pour son profil
- Badge "Fondateur" pour les membres avant la v1.0
- TrophÃ©es communautaires (dÃ©cernÃ©s par les admins)

### Forum
- Mode "Question / RÃ©ponse" pour les threads techniques
  (une rÃ©ponse marquÃ©e comme "Solution" par l'auteur)
- Polls / sondages dans les threads
- Tags sur les threads (filtrables)

### CommunautÃ©
- Ã‰vÃ©nements communautaires avec date/heure
- Annonces Ã©pinglÃ©es avec durÃ©e configurable
- Statistiques publiques de la communautÃ©
  (membres actifs, posts par jour, etc.)

### Nexus Points (rÃ©putation)
- Gagner des points en postant, recevant des likes
- Perdre des points si posts signalÃ©s et supprimÃ©s
- Paliers de rÃ©putation avec badges automatiques
  Ex: 0-100pts "Nouveau", 100-500pts "RÃ©gulier", 500+ "VÃ©tÃ©ran"
- Les points sont par communautÃ© ET globaux

### Self-hosting
- Interface d'administration web (pas juste CLI)
- Tableau de bord santÃ© du serveur
- Backup automatique PostgreSQL configurable
- Migration facile depuis phpBB / Discourse

---

## ğŸŒ Vision rÃ©seau P2P et annuaire

### ModÃ¨le exact de Nexus

Nexus est DEUX choses simultanÃ©ment :
1. Un logiciel de communautÃ© (forum + chat + vocal)
2. Un nÅ“ud de rÃ©seau P2P

### Annuaire global (nexus-directory)

Repo sÃ©parÃ© : `nexus-directory`
HÃ©bergÃ© sur le serveur officiel Nexus

```
Quelqu'un installe Nexus en Australie
â†’ Il remplit : nom, description, langue, thÃ©matique, pays
â†’ Son instance s'enregistre dans l'annuaire
â†’ Il reÃ§oit automatiquement un sous-domaine :
  australia-gaming.nexus.io
â†’ Il apparaÃ®t dans l'annuaire public
â†’ N'importe qui peut le trouver et le rejoindre
```

### Sous-domaines gratuits nexus.io

```
Domaine nexus.io          ~15â‚¬/an
SSL wildcard Let's Encrypt   0â‚¬
DNS wildcard                 0â‚¬
Nginx reverse proxy          0â‚¬

Total : ~15â‚¬/an pour hÃ©berger 700+ instances
```

### Ã‰volution des coÃ»ts avec le P2P

```
Phase 1 â€” 0 Ã  50 nÅ“uds
Ton serveur fait tout
~0-6â‚¬/mois

Phase 2 â€” 50 Ã  700 nÅ“uds
Chaque instance hÃ©berge son contenu
Ton serveur gÃ¨re uniquement l'annuaire
~6-20â‚¬/mois

Phase 3 â€” 700+ nÅ“uds P2P actifs
WireGuard mesh complet
Les nÅ“uds se parlent directement
Ton serveur devient presque invisible
~30â‚¬/mois MAX peu importe le nombre de nÅ“uds
```

### La beautÃ© du modÃ¨le P2P

```
Aujourd'hui
100% du trafic â†’ ton serveur

Avec P2P complet
Annuaire        â†’ ton serveur (lÃ©ger)
Contenu forum   â†’ chaque nÅ“ud (distribuÃ©)
Chat/vocal      â†’ P2P direct (zÃ©ro transit)
Fichiers/mÃ©dias â†’ CDN distribuÃ© (zÃ©ro transit)
```

Comme BitTorrent â€” plus il y a d'utilisateurs,
plus le rÃ©seau est fort et moins le serveur central travaille.
Ton serveur Ã  30â‚¬/mois pourrait tenir des millions d'utilisateurs.

### Phases d'implÃ©mentation rÃ©seau
```
Phase 1  Serveurs publics officiels (1-2 serveurs)
Phase 2  Instances privÃ©es rejoignent comme nÅ“uds
Phase 3  WireGuard mesh P2P complet
         DHT pour dÃ©couverte des pairs
         Gossip protocol pour synchronisation
```

---

## ğŸš« IdÃ©es rejetÃ©es et pourquoi

```
OAuth Google        â†’ Donne des donnÃ©es aux GAFA, contre le Manifeste
Electron desktop    â†’ Trop lourd, Tauri est la bonne rÃ©ponse
Crypto / NFT        â†’ Hors sujet, contre l'esprit communautaire
PublicitÃ©           â†’ Jamais, principe fondateur
Serveur central     â†’ Contre la dÃ©centralisation
```

---

*"Le rÃ©seau, ce sont les gens."*
*Mis Ã  jour : FÃ©vrier 2026*